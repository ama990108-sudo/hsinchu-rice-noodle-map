<!DOCTYPE html> <html lang="zh-Hant"> <head>   <meta charset="utf-8"/>   <meta name="viewport" content="width=device-width, initial-scale=1"/>   <title>新竹米粉地圖 | Hsinchu Rice Noodle Map</title>   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"         integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="         crossorigin=""/>   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">   <style>     * {       box-sizing: border-box;       margin: 0;       padding: 0;     }          body {       font-family: 'Segoe UI', 'PingFang TC', 'Microsoft JhengHei', sans-serif;       background: linear-gradient(135deg, #fff5f5, #fff9f2);       color: #333;       line-height: 1.6;       min-height: 100vh;       padding-bottom: 20px;     }          header {       background: linear-gradient(to right, #c62828, #d32f2f);       color: #fff;       padding: 16px 20px;       display: flex;       flex-direction: column;       gap: 10px;       box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);       position: sticky;       top: 0;       z-index: 1000;     }          .header-top {       display: flex;       align-items: center;       gap: 15px;       width: 100%;     }          .logo {       display: flex;       align-items: center;       gap: 10px;     }          .logo-icon {       font-size: 1.8rem;     }          header h1 {       margin: 0;       font-size: 1.4rem;       font-weight: 700;     }          .subtitle {       text-align: center;       font-style: italic;       font-size: 1.1rem;       padding: 5px 0;       background: rgba(0, 0, 0, 0.1);       border-radius: 8px;     }          .spacer {       flex: 1;     }          .lang-btn {       background: rgba(255, 255, 255, 0.9);       color: #c62828;       border: none;       border-radius: 50px;       padding: 8px 16px;       font-weight: 700;       cursor: pointer;       transition: all 0.3s ease;       box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);       display: flex;       align-items: center;       gap: 6px;     }          .lang-btn:hover {       background: #fff;       transform: translateY(-2px);       box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);     }          #map-container {       position: relative;       height: 60vh;       border-bottom: 1px solid #e0e0e0;     }          #map {       height: 100%;       background: #e9ecef;     }          .map-overlay {       position: absolute;       top: 15px;       right: 15px;       background: rgba(255, 255, 255, 0.9);       padding: 12px;       border-radius: 10px;       box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);       z-index: 500;       max-width: 220px;     }          .map-overlay h3 {       color: #c62828;       margin-bottom: 8px;       font-size: 1rem;       display: flex;       align-items: center;       gap: 5px;     }          .map-overlay ul {       list-style: none;       padding: 0;     }          .map-overlay li {       padding: 6px 0;       border-bottom: 1px solid #eee;       display: flex;       align-items: center;       font-size: 0.9rem;     }          .map-overlay li:last-child {       border-bottom: none;     }          .map-overlay .marker-color {       display: inline-block;       width: 12px;       height: 12px;       background: #c62828;       border-radius: 50%;       margin-right: 8px;     }          .map-overlay .station-color {       display: inline-block;       width: 12px;       height: 12px;       background: #1e88e5;       border-radius: 50%;       margin-right: 8px;     }          main {       max-width: 1200px;       margin: 25px auto;       padding: 0 15px;     }          .panel {       background: #fff;       border-radius: 16px;       box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);       padding: 22px;       margin-bottom: 25px;       transition: transform 0.3s ease;     }          .panel:hover {       transform: translateY(-5px);     }          h2 {       color: #c62828;       margin: 0 0 20px;       font-size: 1.6rem;       display: flex;       align-items: center;       gap: 10px;       padding-bottom: 12px;       border-bottom: 2px solid #ffebee;     }          h2 i {       font-size: 1.4rem;     }          .route-desc {       color: #555;       margin-bottom: 15px;       line-height: 1.7;     }          .links {       display: flex;       flex-wrap: wrap;       gap: 12px;       margin-top: 20px;     }          .link-btn {       display: inline-flex;       align-items: center;       gap: 8px;       padding: 10px 18px;       background: #ffebee;       color: #c62828;       border-radius: 50px;       text-decoration: none;       font-weight: 600;       transition: all 0.3s ease;       box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);     }          .link-btn:hover {       background: #ffcdd2;       transform: translateY(-3px);       box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);     }          .shop-list {       display: grid;       grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));       gap: 20px;     }          .shop-card {       border-radius: 12px;       overflow: hidden;       background: #fff;       box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);       transition: all 0.3s ease;       display: flex;       flex-direction: column;       height: 100%;     }          .shop-card:hover {       transform: translateY(-5px);       box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);     }          .shop-header {       background: linear-gradient(to right, #c62828, #d32f2f);       color: white;       padding: 15px;       position: relative;     }          .distance-badge {       position: absolute;       top: 10px;       right: 10px;       background: rgba(255, 255, 255, 0.9);       color: #c62828;       padding: 3px 8px;       border-radius: 10px;       font-size: 0.8rem;       font-weight: bold;     }          .shop-header h3 {       margin: 0;       font-size: 1.2rem;       padding-right: 70px;     }          .shop-body {       padding: 18px;       flex-grow: 1;       display: flex;       flex-direction: column;     }          .shop-desc {       color: #555;       margin-bottom: 15px;       flex-grow: 1;     }          .shop-actions {       display: flex;       gap: 12px;       margin-top: 15px;     }          .action-btn {       flex: 1;       display: flex;       align-items: center;       justify-content: center;       gap: 6px;       padding: 10px;       border-radius: 8px;       text-decoration: none;       font-weight: 600;       transition: all 0.3s ease;     }          .map-btn {       background: #e3f2fd;       color: #1976d2;     }          .action-btn:hover {       transform: translateY(-3px);       box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);     }          .feedback-section textarea {       width: 100%;       min-height: 120px;       border-radius: 12px;       border: 1px solid #e0e0e0;       padding: 15px;       font-family: inherit;       font-size: 1rem;       resize: vertical;       transition: all 0.3s;       margin-top: 10px;     }          .feedback-section textarea:focus {       outline: none;       border-color: #c62828;       box-shadow: 0 0 0 3px rgba(198, 40, 40, 0.1);     }          .note {       font-size: 0.9rem;       color: #757575;       margin-top: 15px;       text-align: center;       padding: 10px;       background: #f5f5f5;       border-radius: 8px;     }          footer {       text-align: center;       color: #757575;       font-size: 0.9rem;       padding: 20px;       margin-top: 30px;     }          /* 響應式設計 */     @media (max-width: 768px) {       .shop-list {         grid-template-columns: 1fr;       }              header {         padding: 12px 15px;       }              .panel {         padding: 18px;       }              #map-container {         height: 50vh;       }              .header-top h1 {         font-size: 1.2rem;       }              .subtitle {         font-size: 0.95rem;       }     }          @media (max-width: 480px) {       .lang-btn {         padding: 6px 12px;         font-size: 0.9rem;       }              .shop-header h3 {         font-size: 1.1rem;       }              .shop-actions {         flex-direction: column;       }     }          .legend {       display: flex;       align-items: center;       justify-content: center;       gap: 15px;       margin-top: 10px;       flex-wrap: wrap;     }          .legend-item {       display: flex;       align-items: center;       gap: 5px;       font-size: 0.9rem;     }          .legend-color {       width: 15px;       height: 15px;       border-radius: 50%;     }          .legend-shop {       background: #c62828;     }          .legend-station {       background: #1e88e5;     }          .distance-info {       margin-top: 10px;       padding: 8px;       background: #e3f2fd;       border-radius: 8px;       font-size: 0.9rem;     }          .distance-info i {       color: #1e88e5;       margin-right: 5px;     }          .status-message {       position: absolute;       top: 50%;       left: 50%;       transform: translate(-50%, -50%);       text-align: center;       background: rgba(255, 255, 255, 0.9);       padding: 20px;       border-radius: 10px;       box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);       z-index: 1000;     }   </style> </head> <body> <header>   <div class="header-top">     <div class="logo">       <i class="fas fa-utensils logo-icon"></i>       <h1 id="title">新竹米粉地圖</h1>     </div>     <div class="spacer"></div>     <button class="lang-btn" id="langBtn">       <i class="fas fa-language"></i>       <span>EN</span>     </button>   </div>      <div class="subtitle" id="subtitle">米粉鹹香隨風揚 | Rice Noodles' Savory Aroma in the Breeze</div> </header>  <div id="map-container">   <div id="map">     <div class="status-message" id="mapStatus">       <i class="fas fa-spinner fa-spin fa-2x"></i>       <p>地圖載入中...<br><small>請稍候片刻</small></p>     </div>   </div>   <div class="map-overlay">     <h3><i class="fas fa-info-circle"></i> <span id="mapInfoTitle">地圖說明</span></h3>     <ul>       <li><span class="marker-color"></span> <span id="mapShopMarker">紅色標記：米粉店家位置</span></li>       <li><span class="station-color"></span> <span id="mapStationMarker">藍色標記：新竹火車站</span></li>       <li><span id="mapClickInfo">點擊標記查看店家資訊</span></li>     </ul>     <div class="legend">       <div class="legend-item">         <div class="legend-color legend-shop"></div>         <span id="legendShop">米粉店</span>       </div>       <div class="legend-item">         <div class="legend-color legend-station"></div>         <span id="legendStation">火車站</span>       </div>     </div>   </div> </div>  <main>   <section class="panel">     <h2><i class="fas fa-route"></i> <span id="routeTitle">路線說明</span></h2>     <p class="route-desc" id="routeDesc">以新竹火車站為核心，步行可達的經典米粉店。點擊地圖紅點可查看並前往 Google 地圖。</p>          <div class="distance-info">       <i class="fas fa-walking"></i>       <span id="distanceNote">所有店家都在新竹火車站步行15分鐘範圍內（約1公里）</span>     </div>          <div class="links">       <a href="https://www.google.com/maps/search/?api=1&query=新竹火車站"           target="_blank"           class="link-btn">         <i class="fas fa-train"></i> <span id="stationLink">新竹火車站</span>       </a>     </div>   </section>    <section class="panel">     <h2><i class="fas fa-utensils"></i> <span id="listTitle">店家清單</span></h2>     <div class="shop-list" id="shopList"></div>   </section>    <section class="panel feedback-section">     <h2><i class="fas fa-comment-dots"></i> <span id="fbTitle">意見回饋</span></h2>     <p id="fbDesc">此回饋僅儲存在你的瀏覽器（localStorage）</p>     <textarea id="feedback" placeholder="寫下你對這張地圖的建議…"></textarea>     <div class="note" id="foot">提示：回饋使用瀏覽器 localStorage，重新整理仍會保留。</div>   </section> </main>  <footer>   <p>新竹米粉地圖 &copy; 2023 | 探索新竹美食文化</p> </footer>  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"         integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="         crossorigin=""></script> <script>   // 新竹火車站位置   const TRAIN_STATION = {     zh: { name: "新竹火車站" },     en: { name: "Hsinchu Train Station" },     lat: 24.8016,     lng: 120.9716   };      // 步行15分鐘距離（約1公里）   const WALKING_DISTANCE = 1000;    // 店家數據（已驗證距離）   const shops = [     {       id: "dongmen",       zh: { name: "東門米粉攤（東門市場）", desc: "在地人氣、芋頭米粉湯代表" },       en: { name: "Dongmen Rice Noodles (Dongmen Market)", desc: "Local favorite with taro rice noodle soup" },       lat: 24.8046,        lng: 120.9715,       g: "https://www.google.com/maps/search/?api=1&query=東門米粉攤 新竹",       distance: 340 // 距離火車站340米（步行約4分鐘）     },     {       id: "acheng",       zh: { name: "阿城米粉", desc: "靠近城隍廟，湯頭清甜" },       en: { name: "A-Cheng Rice Noodles", desc: "Near Chenghuang Temple; light, sweet broth" },       lat: 24.8039,        lng: 120.9659,       g: "https://www.google.com/maps/search/?api=1&query=阿城米粉 新竹",       distance: 560 // 距離火車站560米（步行約7分鐘）     },     {       id: "temple",       zh: { name: "城隍廟口米粉", desc: "廟口小吃聚集地" },       en: { name: "Chenghuang Temple Rice Noodles", desc: "Temple-front street food area" },       lat: 24.8043,        lng: 120.9666,       g: "https://www.google.com/maps/search/?api=1&query=城隍廟口 米粉 新竹",       distance: 510 // 距離火車站510米（步行約6分鐘）     },     {       id: "zhenji",       zh: { name: "珍記米粉湯", desc: "火車站周邊老字號" },       en: { name: "Zhen Ji Rice Noodle Soup", desc: "Classic shop near the train station" },       lat: 24.8019,        lng: 120.9719,       g: "https://www.google.com/maps/search/?api=1&query=珍記米粉湯 新竹",       distance: 110 // 距離火車站110米（步行約1分鐘）     },     {       id: "central",       zh: { name: "中央市場米粉攤", desc: "市場系風味，早午餐熱鬧" },       en: { name: "Central Market Rice Noodles", desc: "Market-style noodles, busy mornings" },       lat: 24.8032,        lng: 120.9736,       g: "https://www.google.com/maps/search/?api=1&query=中央市場 米粉 新竹",       distance: 230 // 距離火車站230米（步行約3分鐘）     },     {       id: "old",       zh: { name: "老新竹米粉（城隍廟周邊）", desc: "傳統作法，清爽耐吃" },       en: { name: "Old Hsinchu Rice Noodles", desc: "Traditional style near the temple" },       lat: 24.8035,        lng: 120.9660,       g: "https://www.google.com/maps/search/?api=1&query=老新竹 米粉 城隍廟",       distance: 550 // 距離火車站550米（步行約7分鐘）     }   ];    let lang = "zh";   let map = null;      // 初始化地圖   function initMap() {     // 移除載入提示     const statusElement = document.getElementById('mapStatus');     if (statusElement) {       statusElement.remove();     }          // 初始化地圖     map = L.map('map').setView([24.8039, 120.9698], 15);          // 添加地圖圖層     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {       maxZoom: 19,       attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'     }).addTo(map);      // 創建紅色標記圖標（米粉店）     const redIcon = new L.Icon({       iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',       shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',       iconSize: [30, 46],       iconAnchor: [15, 46],       popupAnchor: [1, -34],       shadowSize: [46, 46]     });      // 創建藍色標記圖標（火車站）     const blueIcon = new L.Icon({       iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',       shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',       iconSize: [30, 46],       iconAnchor: [15, 46],       popupAnchor: [1, -34],       shadowSize: [46, 46]     });      // 添加火車站標記     const stationMarker = L.marker([TRAIN_STATION.lat, TRAIN_STATION.lng], {        icon: blueIcon      }).addTo(map);          stationMarker.bindPopup(`       <div style="min-width:220px">         <h4 style="margin:0 0 8px;color:#1e88e5">${lang === 'zh' ? TRAIN_STATION.zh.name : TRAIN_STATION.en.name}</h4>         <p style="margin:0 0 10px">${lang === 'zh' ? '新竹主要交通樞紐' : 'Main transportation hub in Hsinchu'}</p>       </div>     `);      // 渲染地圖標記（米粉店）     shops.forEach(shop => {       // 創建標記       const marker = L.marker([shop.lat, shop.lng], { icon: redIcon }).addTo(map);              // 添加彈出視窗       marker.bindPopup(`         <div style="min-width:220px">           <h4 style="margin:0 0 8px;color:#c62828">${lang === 'zh' ? shop.zh.name : shop.en.name}</h4>           <p style="margin:0 0 10px">${lang === 'zh' ? shop.zh.desc : shop.en.desc}</p>           <p style="margin:0 0 10px;font-size:0.9rem">             <i class="fas fa-walking"></i>              `latex-inlineEquation {lang === 'zh' ? `距離火車站: `{shop.distance}米 (步行約${Math.round(shop.distance/80)}分鐘)` :                                `Distance from station: `latex-inlineEquation {shop.distance}m (`{Math.round(shop.distance/80)} min walk)`}           </p>           <a href="${shop.g}" target="_blank" style="             display:inline-block;             background:#c62828;             color:white;             padding:6px 12px;             border-radius:4px;             text-decoration:none;             font-weight:bold;             margin-top:5px;           ">${lang === 'zh' ? '查看地圖' : 'View Map'}</a>         </div>       `);     });   }    // 渲染店家列表   function renderShopList() {     const el = document.getElementById('shopList');          el.innerHTML = shops.map(shop => {       const shopData = lang === 'zh' ? shop.zh : shop.en;       const stationName = lang === 'zh' ? TRAIN_STATION.zh.name : TRAIN_STATION.en.name;              return `         <div class="shop-card">           <div class="shop-header">             <h3>${shopData.name}</h3>             <div class="distance-badge">               <i class="fas fa-walking"></i> ${shop.distance}m             </div>           </div>           <div class="shop-body">             <p class="shop-desc">${shopData.desc}</p>                          <div class="distance-info">               <i class="fas fa-train"></i>               ${lang === 'zh' ?                  `距離`latex-inlineEquation {stationName}: `{shop.distance}米 (步行約${Math.round(shop.distance/80)}分鐘)` :                  `From `latex-inlineEquation {stationName}: `{shop.distance}m (${Math.round(shop.distance/80)} min walk)`}             </div>                          <div class="shop-actions">               <a href="${shop.g}" target="_blank" class="action-btn map-btn">                 <i class="fas fa-map-marked-alt"></i>                  ${lang === 'zh' ? '查看地圖' : 'View Map'}               </a>             </div>           </div>         </div>       `;     }).join('');   }    // 應用語言設置   function applyLanguage() {     // 更新標題和副標題     document.getElementById('title').textContent = lang === 'zh' ? '新竹米粉地圖' : 'Hsinchu Rice Noodle Map';     document.getElementById('subtitle').textContent = lang === 'zh' ?        '米粉鹹香隨風揚' : 'Rice Noodles\' Savory Aroma in the Breeze';          // 更新地圖說明     document.getElementById('mapInfoTitle').textContent = lang === 'zh' ? '地圖說明' : 'Map Guide';     document.getElementById('mapShopMarker').textContent = lang === 'zh' ?        '紅色標記：米粉店家位置' : 'Red markers: Rice noodle shops';     document.getElementById('mapStationMarker').textContent = lang === 'zh' ?        '藍色標記：新竹火車站' : 'Blue marker: Hsinchu Train Station';     document.getElementById('mapClickInfo').textContent = lang === 'zh' ?        '點擊標記查看店家資訊' : 'Click markers for shop info';     document.getElementById('legendShop').textContent = lang === 'zh' ? '米粉店' : 'Noodle Shop';     document.getElementById('legendStation').textContent = lang === 'zh' ? '火車站' : 'Train Station';          // 更新路線說明     document.getElementById('routeTitle').textContent = lang === 'zh' ? '路線說明' : 'Route Guide';     document.getElementById('routeDesc').textContent = lang === 'zh'        ? '以新竹火車站為核心，步行可達的經典米粉店。點擊地圖紅點可查看並前往 Google 地圖。'       : 'Walkable rice noodle shops around Hsinchu Train Station. Click red markers for Google Maps.';     document.getElementById('distanceNote').textContent = lang === 'zh'        ? '所有店家都在新竹火車站步行15分鐘範圍內（約1公里）'       : 'All shops are within 15 minutes walk from Hsinchu Train Station (~1km)';     document.getElementById('stationLink').textContent = lang === 'zh' ? '新竹火車站' : 'Hsinchu Train Station';          // 更新店家清單     document.getElementById('listTitle').textContent = lang === 'zh'        ? '店家清單' : 'Shop List';          // 更新意見回饋     document.getElementById('fbTitle').textContent = lang === 'zh' ? '意見回饋' : 'Feedback';     document.getElementById('fbDesc').textContent = lang === 'zh'        ? '此回饋僅儲存在你的瀏覽器（localStorage）'        : 'Feedback is stored locally in your browser.';     document.getElementById('foot').textContent = lang === 'zh'        ? '提示：回饋使用瀏覽器 localStorage，重新整理仍會保留。'       : 'Tip: Feedback is saved locally via localStorage.';     document.querySelector('#langBtn span').textContent = lang === 'zh' ? 'EN' : '中文';          // 更新店家列表     renderShopList();          // 重新初始化地圖（如果地圖已初始化）     if (map) {       map.remove();       initMap();     }   }    // 初始化   document.addEventListener('DOMContentLoaded', () => {     // 初始化地圖     initMap();          // 語言切換按鈕     document.getElementById('langBtn').addEventListener('click', () => {       lang = lang === 'zh' ? 'en' : 'zh';       applyLanguage();     });          // 反饋文本框     const feedbackEl = document.getElementById('feedback');     feedbackEl.value = localStorage.getItem('feedback') || '';     feedbackEl.addEventListener('input', () => {       localStorage.setItem('feedback', feedbackEl.value);     });          // 應用初始語言設置     applyLanguage();   }); </script> </body> </html>
