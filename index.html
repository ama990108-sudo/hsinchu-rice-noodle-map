<!DOCTYPE html> <html lang="zh-Hant"> <head>   <meta charset="utf-8">   <meta name="viewport" content="width=device-width, initial-scale=1">   <title>新竹米粉地圖 | Hsinchu Rice Noodle Map</title>   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css">   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">   <style>     * { margin: 0; padding: 0; box-sizing: border-box; }     body { font-family: 'Microsoft JhengHei', 'Segoe UI', sans-serif; }          /* 標題欄 */     header {       background: #c62828;       color: white;       padding: 15px;       position: sticky;       top: 0;       z-index: 100;     }     .header-container {       display: flex;       justify-content: space-between;       align-items: center;       max-width: 1200px;       margin: 0 auto;     }     .lang-btn {       background: white;       color: #c62828;       border: none;       padding: 6px 12px;       border-radius: 4px;       cursor: pointer;       font-weight: 500;     }          /* 地圖容器 */     #map {       height: 60vh;       margin: 20px auto;       max-width: 1200px;       border-radius: 8px;       box-shadow: 0 2px 8px rgba(0,0,0,0.1);     }          /* 店家列表 */     .shop-list {       max-width: 1200px;       margin: 20px auto;       padding: 0 15px;     }     .shop-item {       padding: 15px;       border-bottom: 1px solid #eee;       margin-bottom: 10px;     }     .shop-item h3 {       margin-bottom: 8px;       color: #c62828;     }     .shop-item p {       font-size: 0.95rem;       color: #666;       margin-bottom: 5px;     }     .shop-item a {       font-size: 0.9rem;       color: #1e88e5;       text-decoration: none;     }          /* Popup 樣式 */     .leaflet-popup-content {       font-family: 'Microsoft JhengHei', sans-serif;       min-width: 200px;     }     .leaflet-popup-content h3 {       margin: 0 0 10px 0;       color: #c62828;     }     .leaflet-popup-content p {       margin: 5px 0;       font-size: 0.95rem;     }     .leaflet-popup-content a {       color: #1e88e5;       text-decoration: none;     }     .leaflet-popup-content a:hover {       text-decoration: underline;     }   </style> </head> <body> <header>   <div class="header-container">     <h1 id="title">新竹米粉地圖</h1>     <button class="lang-btn" id="langBtn">EN</button>   </div> </header>  <!-- 地圖容器 --> <div id="map"></div>  <!-- 店家列表（可選，保留便於快速瀏覽） --> <div class="shop-list" id="shopList"></div>  <!-- Leaflet 庫 --> <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script> <script>   // 1. 基礎設定   const TRAIN_STATION = {     zh: "新竹火車站",     en: "Hsinchu Train Station",     lat: 24.8016,     lng: 120.9716   };   let currentLang = "zh"; // 預設中文   let map; // 地圖實例    // 2. 店家數據（含地址與Google地圖連結）   const shops = [     {       id: "dongmen",       zh: {         name: "東門米粉攤",         desc: "在地人氣芋頭米粉湯，料多實在",         address: "新竹市東區東門市場1樓"       },       en: {         name: "Dongmen Rice Noodles",         desc: "Local favorite with taro rice noodle soup, generous portions",         address: "1F, Dongmen Market, East District, Hsinchu"       },       lat: 24.8046,       lng: 120.9715,       mapLink: "https://www.google.com/maps/search/?api=1&query=東門米粉攤 新竹市東區東門市場1樓"     },     {       id: "acheng",       zh: {         name: "阿城米粉",         desc: "城隍廟旁經典，湯頭清甜不油膩",         address: "新竹市北區中山路100號"       },       en: {         name: "A-Cheng Rice Noodles",         desc: "Classic shop near Chenghuang Temple, light and non-greasy broth",         address: "100 Zhongshan Rd, North District, Hsinchu"       },       lat: 24.8039,       lng: 120.9659,       mapLink: "https://www.google.com/maps/search/?api=1&query=阿城米粉 新竹市北區中山路100號"     },     {       id: "zhenji",       zh: {         name: "珍記米粉湯",         desc: "火車站旁老字號，凌晨就開賣",         address: "新竹市東區中華路二段50號"       },       en: {         name: "Zhen Ji Rice Noodle Soup",         desc: "Veteran shop near train station, opens early in the morning",         address: "50 Zhonghua Rd Sec 2, East District, Hsinchu"       },       lat: 24.8019,       lng: 120.9719,       mapLink: "https://www.google.com/maps/search/?api=1&query=珍記米粉湯 新竹市東區中華路二段50號"     }   ];    // 3. 初始化地圖   function initMap() {     // 銷毀舊地圖（避免重複初始化）     if (map) map.remove();      // 建立新地圖實例（中心設為新竹火車站，縮放等級15）     map = L.map('map').setView([TRAIN_STATION.lat, TRAIN_STATION.lng], 15);      // 加載OpenStreetMap地圖層     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {       attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'     }).addTo(map);      // 4. 添加標記     // 火車站標記（藍色）     const stationIcon = new L.Icon({       iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',       iconSize: [25, 41], // 圖標尺寸       iconAnchor: [12, 41], // 圖標錨點（對齊地圖坐標）       popupAnchor: [0, -35] // Popup 顯示位置（相對於圖標）     });     const stationMarker = L.marker([TRAIN_STATION.lat, TRAIN_STATION.lng], { icon: stationIcon }).addTo(map);     stationMarker.bindPopup(`       <div>         <h3>${TRAIN_STATION[currentLang]}</h3>         <p>${currentLang === 'zh' ? '新竹主要交通樞紐' : 'Main transportation hub in Hsinchu'}</p>       </div>     `);     // 點擊火車站標記時縮放     stationMarker.on('click', (e) => map.setView(e.latlng, 17));      // 米粉店標記（紅色）     const shopIcon = new L.Icon({       iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',       iconSize: [25, 41],       iconAnchor: [12, 41],       popupAnchor: [0, -35]     });     shops.forEach(shop => {       const marker = L.marker([shop.lat, shop.lng], { icon: shopIcon }).addTo(map);       // 綁定彈窗（含店家資訊與Google地圖連結）       marker.bindPopup(`         <div>           <h3>${shop[currentLang].name}</h3>           <p>${shop[currentLang].desc}</p>           <p><i class="fa-solid fa-location-dot"></i> ${shop[currentLang].address}</p>           <p><a href="`latex-inlineEquation {shop.mapLink}" target="_blank">`{currentLang === 'zh' ? '查看Google地圖' : 'View Google Map'}</a></p>         </div>       `);       // 點擊標記時：1. 縮放地圖至17級；2. 打開彈窗       marker.on('click', (e) => {         map.setView(e.latlng, 17); // 縮放至17級（更詳細）         marker.openPopup(); // 強制打開彈窗（避免延遲）       });     });   }    // 5. 渲染店家列表（可選，與地圖同步）   function renderShopList() {     const shopListEl = document.getElementById('shopList');     shopListEl.innerHTML = shops.map(shop => `       <div class="shop-item">         <h3>${shop[currentLang].name}</h3>         <p>${shop[currentLang].desc}</p>         <p><i class="fa-solid fa-location-dot"></i> ${shop[currentLang].address}</p>         <p><a href="`latex-inlineEquation {shop.mapLink}" target="_blank">`{currentLang === 'zh' ? '查看Google地圖' : 'View Google Map'}</a></p>       </div>     `).join('');   }    // 6. 雙語切換功能   function switchLanguage() {     currentLang = currentLang === 'zh' ? 'en' : 'zh';     // 更新標題     document.getElementById('title').textContent = currentLang === 'zh' ? '新竹米粉地圖' : 'Hsinchu Rice Noodle Map';     // 更新語言按鈕文字     document.getElementById('langBtn').textContent = currentLang === 'zh' ? 'EN' : '中文';     // 重新初始化地圖（更新彈窗語言）     initMap();     // 重新渲染店家列表     renderShopList();   }    // 7. 頁面加載完成後初始化   document.addEventListener('DOMContentLoaded', () => {     initMap(); // 初始化地圖     renderShopList(); // 渲染店家列表     // 綁定語言切換按鈕事件     document.getElementById('langBtn').addEventListener('click', switchLanguage);   }); </script> </body> </html>
